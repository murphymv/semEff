<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Standardised Effects — stdEff • semEff</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Standardised Effects — stdEff" />
<meta property="og:description" content="Calculate fully standardised effects (model coefficients) in
standard deviation units, adjusted for multicollinearity." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semEff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/semEff.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/predicting-effects.html">Predicting Effects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/murphymv/semEff/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Standardised Effects</h1>
    <small class="dont-index">Source: <a href='https://github.com/murphymv/semEff/blob/master/R/stdEff-fun.R'><code>R/stdEff-fun.R</code></a></small>
    <div class="hidden name"><code>stdEff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate fully standardised effects (model coefficients) in
standard deviation units, adjusted for multicollinearity.</p>
    </div>

    <pre class="usage"><span class='fu'>stdEff</span><span class='op'>(</span>
  <span class='va'>mod</span>,
  weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  data <span class='op'>=</span> <span class='cn'>NULL</span>,
  term.names <span class='op'>=</span> <span class='cn'>NULL</span>,
  unique.eff <span class='op'>=</span> <span class='cn'>TRUE</span>,
  cen.x <span class='op'>=</span> <span class='cn'>TRUE</span>,
  cen.y <span class='op'>=</span> <span class='cn'>TRUE</span>,
  std.x <span class='op'>=</span> <span class='cn'>TRUE</span>,
  std.y <span class='op'>=</span> <span class='cn'>TRUE</span>,
  refit.x <span class='op'>=</span> <span class='cn'>TRUE</span>,
  incl.raw <span class='op'>=</span> <span class='cn'>FALSE</span>,
  R.squared <span class='op'>=</span> <span class='cn'>FALSE</span>,
  R2.arg <span class='op'>=</span> <span class='cn'>NULL</span>,
  env <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mod</th>
      <td><p>A fitted model object, or a list or nested list of such objects.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>An optional numeric vector of weights to use for model
averaging, or a named list of such vectors. The former should be supplied
when <code>mod</code> is a list, and the latter when it is a nested list (with
matching list names). If set to <code>"equal"</code>, a simple average is calculated
instead.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>An optional dataset, used to first refit the model(s).</p></td>
    </tr>
    <tr>
      <th>term.names</th>
      <td><p>An optional vector of names used to extract and/or sort
effects from the output.</p></td>
    </tr>
    <tr>
      <th>unique.eff</th>
      <td><p>Logical, whether unique effects should be calculated
(adjusted for multicollinearity among predictors).</p></td>
    </tr>
    <tr>
      <th>cen.x, cen.y</th>
      <td><p>Logical, whether effects should be calculated as if from
mean-centred variables.</p></td>
    </tr>
    <tr>
      <th>std.x, std.y</th>
      <td><p>Logical, whether effects should be scaled by the standard
deviations of variables.</p></td>
    </tr>
    <tr>
      <th>refit.x</th>
      <td><p>Logical, whether the model should be refit with mean-centred
predictor variables (see Details).</p></td>
    </tr>
    <tr>
      <th>incl.raw</th>
      <td><p>Logical, whether to append the raw (unstandardised) effects
to the output.</p></td>
    </tr>
    <tr>
      <th>R.squared</th>
      <td><p>Logical, whether R-squared values should also be calculated
(via <code><a href='R2.html'>R2()</a></code>).</p></td>
    </tr>
    <tr>
      <th>R2.arg</th>
      <td><p>A named list of additional arguments to <code><a href='R2.html'>R2()</a></code> (where
applicable), excepting argument <code>env</code>. Ignored if <code>R.squared = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>env</th>
      <td><p>Environment in which to look for model data (if none supplied).
Defaults to the <code><a href='https://rdrr.io/r/stats/formula.html'>formula()</a></code> environment.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A numeric vector of the standardised effects, or a list or nested
list of such vectors.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>stdEff()</code> will calculate fully standardised effects (coefficients)
in standard deviation units for a fitted model or list of models. It
achieves this via adjusting the 'raw' model coefficients, so no
standardisation of input variables is required beforehand. Users can simply
specify the model with all variables in their original units and the
function will do the rest. However, the user is free to scale and/or centre
any input variables should they choose, which should not affect the outcome
of standardisation (provided any scaling is by standard deviations). This
may be desirable in some cases, such as to increase numerical stability
during model fitting when variables are on widely different scales.</p>
<p>If arguments <code>cen.x</code> or <code>cen.y</code> are <code>TRUE</code>, effects will be calculated as
if all predictors (x) and/or the response variable (y) were mean-centred
prior to model-fitting (including any dummy variables arising from
categorical predictors). Thus, for an ordinary linear model where centring
of x and y is specified, the intercept will be zero – the mean (or weighted
mean) of y. In addition, if <code>cen.x = TRUE</code> and there are interacting terms
in the model, all effects for lower order terms of the interaction are
adjusted using an expression which ensures that each main effect or lower
order term is estimated at the mean values of the terms they interact with
(zero in a 'centred' model) – typically improving the interpretation of
effects. The expression used comprises a weighted sum of all the effects
that contain the lower order term, with the weight for the term itself
being zero and those for 'containing' terms being the product of the means
of the other variables involved in that term (i.e. those not in the lower
order term itself). For example, for a three-way interaction (x1 * x2 *
x3), the expression for main effect \(\beta1\) would be:</p>
<p>$$\beta_{1} + \beta_{12}\bar{x}_{2} + \beta_{13}\bar{x}_{3} +
  \beta_{123}\bar{x}_{2}\bar{x}_{3}$$ (adapted from
<a href='https://stats.stackexchange.com/questions/65898/why-could-centering-independent-variables-change-the-main-effects-with-moderatio'>here</a>)</p>
<p>In addition, if <code>std.x = TRUE</code> or <code>unique.eff = TRUE</code> (see below), product
terms for interactive effects will be recalculated using mean-centred
variables, to ensure that standard deviations and variance inflation
factors (VIF) for predictors are calculated correctly (the model must be
refit for this latter purpose, to recalculate the variance-covariance
matrix).</p>
<p>If <code>std.x = TRUE</code>, effects are scaled by multiplying by the standard
deviations of predictor variables (or terms), while if <code>std.y = TRUE</code> they
are divided by the standard deviation of the response variable (minus any
offsets). If the model is a GLM, this latter is calculated using the
link-transformed response (or an estimate of same) generated using the
function <code><a href='glt.html'>glt()</a></code>. If both arguments are true, the effects are regarded as
'fully' standardised in the traditional sense, often referred to as
'betas'.</p>
<p>If <code>unique.eff = TRUE</code> (default), effects are adjusted for
multicollinearity among predictors by dividing by the square root of the
VIFs (Dudgeon 2016, Thompson <em>et al.</em> 2017; <code><a href='RVIF.html'>RVIF()</a></code>). If they have also
been scaled by the standard deviations of x and y, this converts them to
semipartial correlations, i.e. the correlation between the unique
components of predictors (residualised on other predictors) and the
response variable. This measure of effect size is arguably much more
interpretable and useful than the traditional standardised coefficient, as
it always represents the unique effects of predictors and so can more
readily be compared both within and across models. Values range from zero
to +/- one rather than +/- infinity (as in the case of betas) – putting
them on the same scale as the bivariate correlation between predictor and
response. In the case of GLMs however, the measure is analogous but not
exactly equal to the semipartial correlation, so its values may not always
be bound between +/- one (such cases are likely rare). Importantly, for
ordinary linear models, the square of the semipartial correlation equals
the increase in R-squared when that variable is included last in the model
– directly linking the measure to unique variance explained. See
<a href='https://www.daviddisabato.com/blog/2016/4/8/on-effect-sizes-in-multiple-regression'>here</a>
for additional arguments in favour of the use of semipartial correlations.</p>
<p>If <code>refit.x</code>, <code>cen.x</code>, and <code>unique.eff</code> are <code>TRUE</code> and there are
interaction terms in the model, the model will be refit with any
(newly-)centred continuous predictors, in order to calculate correct VIFs
from the variance-covariance matrix. However, refitting may not be
necessary in some circumstances, for example where predictors have already
been mean-centred, and whose values will not subsequently be resampled
(e.g. parametric bootstrap). Setting <code>refit.x = FALSE</code> in such cases will
save time, especially with larger/more complex models and/or bootstrap
runs.</p>
<p>If <code>incl.raw = TRUE</code>, raw (unstandardised) effects can also be appended,
i.e. those with all centring and scaling options set to <code>FALSE</code> (though
still adjusted for multicollinearity, where applicable). These may be of
interest in some cases, for example to compare their bootstrapped
distributions with those of standardised effects.</p>
<p>If <code>R.squared = TRUE</code>, model R-squared values are appended to effects via
the <code><a href='R2.html'>R2()</a></code> function, with any additional arguments passed via <code>R2.arg</code>.</p>
<p>Finally, if <code>weights</code> are specified, the function calculates a weighted
average of standardised effects across a set (or sets) of different
candidate models for a particular response variable(s) (Burnham &amp; Anderson
2002), via the <code><a href='avgEst.html'>avgEst()</a></code> function.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Burnham, K. P., &amp; Anderson, D. R. (2002). <em>Model Selection and
Multimodel Inference: A Practical Information-Theoretic Approach</em> (2nd
ed.). New York: Springer-Verlag. Retrieved from
<a href='https://www.springer.com/gb/book/9780387953649'>https://www.springer.com/gb/book/9780387953649</a></p>
<p>Dudgeon, P. (2016). A Comparative Investigation of Confidence Intervals for
Independent Variables in Linear Regression. <em>Multivariate Behavioral
Research</em>, <strong>51</strong>(2-3), 139-153. doi: <a href='https://doi.org/10/gfww3f'>10/gfww3f</a></p>
<p>Thompson, C. G., Kim, R. S., Aloe, A. M., &amp; Becker, B. J. (2017).
Extracting the Variance Inflation Factor and Other Multicollinearity
Diagnostics from Typical Regression Results. <em>Basic and Applied Social
Psychology</em>, <strong>39</strong>(2), 81-90. doi: <a href='https://doi.org/10/gfww2w'>10/gfww2w</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/lme4/lme4/'>lme4</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required package: Matrix</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘lme4’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:semEff’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    getData</span></div><div class='input'>
<span class='co'># Standardised (direct) effects for SEM</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='va'>shipley.sem</span>
<span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $DD
#&gt; (Intercept)         lat 
#&gt; -0.05600661 -0.68772025 
#&gt; 
#&gt; $Date
#&gt; (Intercept)          DD 
#&gt; -0.01493651 -0.62813666 
#&gt; 
#&gt; $Growth
#&gt; (Intercept)        Date 
#&gt;  -0.2917507   0.3824224 
#&gt; 
#&gt; $Live
#&gt; (Intercept)      Growth 
#&gt;   0.3105220   0.3681961 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, cen.y <span class='op'>=</span> <span class='cn'>FALSE</span>, std.y <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>  <span class='co'># x-only</span>
</div><div class='output co'>#&gt; $DD
#&gt; (Intercept)         lat 
#&gt;  143.183138   -7.066909 
#&gt; 
#&gt; $Date
#&gt; (Intercept)          DD 
#&gt;   126.79703    -5.11375 
#&gt; 
#&gt; $Growth
#&gt; (Intercept)        Date 
#&gt;   48.955514    2.448161 
#&gt; 
#&gt; $Live
#&gt; (Intercept)      Growth 
#&gt;    5.452982    2.226862 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, std.x <span class='op'>=</span> <span class='cn'>FALSE</span>, std.y <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>  <span class='co'># centred only</span>
</div><div class='output co'>#&gt; $DD
#&gt; (Intercept)         lat 
#&gt;  -0.5755154  -0.8354729 
#&gt; 
#&gt; $Date
#&gt; (Intercept)          DD 
#&gt;  -0.1216002  -0.4976475 
#&gt; 
#&gt; $Growth
#&gt; (Intercept)        Date 
#&gt;  -1.8677067   0.3007147 
#&gt; 
#&gt; $Live
#&gt; (Intercept)      Growth 
#&gt;   1.8780467   0.3478536 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, cen.x <span class='op'>=</span> <span class='cn'>FALSE</span>, cen.y <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>  <span class='co'># scaled only</span>
</div><div class='output co'>#&gt; $DD
#&gt; (Intercept)         lat 
#&gt;  19.1373370  -0.6877202 
#&gt; 
#&gt; $Date
#&gt; (Intercept)          DD 
#&gt;  24.3624481  -0.6281367 
#&gt; 
#&gt; $Growth
#&gt; (Intercept)        Date 
#&gt;   1.6853620   0.3824224 
#&gt; 
#&gt; $Live
#&gt; (Intercept)      Growth 
#&gt;  -2.0214940   0.3681961 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, unique.eff <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>  <span class='co'># include multicollinearity</span>
</div><div class='output co'>#&gt; $DD
#&gt; (Intercept)         lat 
#&gt; -0.05600661 -0.68772025 
#&gt; 
#&gt; $Date
#&gt; (Intercept)          DD 
#&gt; -0.01493651 -0.62813666 
#&gt; 
#&gt; $Growth
#&gt; (Intercept)        Date 
#&gt;  -0.2917507   0.3824224 
#&gt; 
#&gt; $Live
#&gt; (Intercept)      Growth 
#&gt;   0.3105220   0.3681961 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, R.squared <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># add R-squared</span>
</div><div class='output co'>#&gt; $DD
#&gt;      (Intercept)              lat      (R.squared)  (R.squared.adj) 
#&gt;      -0.05600661      -0.68772025       0.70800826       0.70747906 
#&gt; (R.squared.pred) 
#&gt;       0.68356361 
#&gt; 
#&gt; $Date
#&gt;      (Intercept)               DD      (R.squared)  (R.squared.adj) 
#&gt;      -0.01493651      -0.62813666       0.98555565       0.98553510 
#&gt; (R.squared.pred) 
#&gt;       0.98202414 
#&gt; 
#&gt; $Growth
#&gt;      (Intercept)             Date      (R.squared)  (R.squared.adj) 
#&gt;       -0.2917507        0.3824224        0.7938367        0.7934879 
#&gt; (R.squared.pred) 
#&gt;        0.7552854 
#&gt; 
#&gt; $Live
#&gt;      (Intercept)           Growth      (R.squared)  (R.squared.adj) 
#&gt;        0.3105220        0.3681961        0.2668652        0.2655971 
#&gt; (R.squared.pred) 
#&gt;               NA 
#&gt; </div><div class='input'><span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, incl.raw <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># add unstandardised</span>
</div><div class='output co'>#&gt; $DD
#&gt;       (Intercept)               lat (raw)_(Intercept)         (raw)_lat 
#&gt;       -0.05600661       -0.68772025      196.65237838       -0.83547294 
#&gt; 
#&gt; $Date
#&gt;       (Intercept)                DD (raw)_(Intercept)          (raw)_DD 
#&gt;       -0.01493651       -0.62813666      198.33816379       -0.49764747 
#&gt; 
#&gt; $Growth
#&gt;       (Intercept)              Date (raw)_(Intercept)        (raw)_Date 
#&gt;        -0.2917507         0.3824224        10.7892162         0.3007147 
#&gt; 
#&gt; $Live
#&gt;       (Intercept)            Growth (raw)_(Intercept)      (raw)_Growth 
#&gt;         0.3105220         0.3681961       -12.2260588         0.3478536 
#&gt; </div><div class='input'>
<span class='co'># Demonstrate equality with effects from manually-standardised variables</span>
<span class='co'># (gaussian models only)</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='va'>shipley.growth</span><span class='op'>[[</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>shipley</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>e1</span> <span class='op'>&lt;-</span> <span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, unique.eff <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>e2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span><span class='op'>(</span><span class='va'>m</span>, data <span class='op'>=</span> <span class='va'>d</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>e1</span>, <span class='va'>e2</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Demonstrate equality with square root of increment in R-squared</span>
<span class='co'># (ordinary linear models only)</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>Growth</span> <span class='op'>~</span> <span class='va'>Date</span> <span class='op'>+</span> <span class='va'>DD</span> <span class='op'>+</span> <span class='va'>lat</span>, data <span class='op'>=</span> <span class='va'>shipley</span><span class='op'>)</span>
<span class='va'>r2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span><span class='op'>$</span><span class='va'>r.squared</span>
<span class='va'>e1</span> <span class='op'>&lt;-</span> <span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>
<span class='va'>en</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>e1</span><span class='op'>)</span>
<span class='va'>e2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>en</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/delete.response.html'>reformulate</a></span><span class='op'>(</span><span class='va'>en</span><span class='op'>[</span><span class='op'>!</span><span class='va'>en</span> <span class='op'>%in%</span> <span class='va'>i</span><span class='op'>]</span><span class='op'>)</span>
  <span class='va'>r2i</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/update.html'>update</a></span><span class='op'>(</span><span class='va'>m</span>, <span class='va'>f</span><span class='op'>)</span><span class='op'>)</span><span class='op'>$</span><span class='va'>r.squared</span>
  <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>r2</span> <span class='op'>-</span> <span class='va'>r2i</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>e1</span>, <span class='va'>e2</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Model-averaged standardised effects</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='va'>shipley.growth</span>  <span class='co'># candidate models</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>  <span class='co'># weights</span>
<span class='fu'>stdEff</span><span class='op'>(</span><span class='va'>m</span>, <span class='va'>w</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  (Intercept)         Date           DD          lat 
#&gt; -0.294231350  0.248803366 -0.003638724 -0.039021926 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark Murphy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


